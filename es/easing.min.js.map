{"version":3,"file":"easing.min.js","sources":["../src/easing/index.ts"],"sourcesContent":["/*\n * @Author: Huangjs\n * @Date: 2023-02-13 15:22:58\n * @LastEditors: Huangjs\n * @LastEditTime: 2023-10-10 14:22:17\n * @Description: ******\n */\n\n// 对于函数 s = f(t)\n// 函数平移(x,y)（函数自变量t变为t-x，整体结果f(t)+y）\n// 函数缩放 k 倍（函数自变量t变为t/k，整体结果f(t)*k）\n// 先平移再缩放：s = (f((t/k)-x)+y)*k\n// 先缩放再平移：s = (f((t-x)/k)*k)+y\n\nexport type EaseFn = (t: number) => number;\n\nconst baseEase: { [key in string]: EaseFn } = {\n  linear: (t) => t,\n  inQuad: (t) => t * t,\n  outQuad: (t) => 1 - (1 - t) * (1 - t),\n  inCubic: (t) => t * t * t,\n  outCubic: (t) => 1 - (1 - t) * (1 - t) * (1 - t),\n  inQuart: (t) => t * t * t * t,\n  outQuart: (t) => 1 - (1 - t) * (1 - t) * (1 - t) * (1 - t),\n  inQuint: (t) => t * t * t * t * t,\n  outQuint: (t) => 1 - (1 - t) * (1 - t) * (1 - t) * (1 - t) * (1 - t),\n};\n\nexport const easeLinear = baseEase.linear;\n\nexport const easeInQuad = baseEase.inQuad;\n\nexport const easeOutQuad = baseEase.outQuad;\n\nexport const easeInCubic = baseEase.inCubic;\n\nexport const easeOutCubic = baseEase.outCubic;\n\nexport const easeInQuart = baseEase.inQuart;\n\nexport const easeOutQuart = baseEase.outQuart;\n\nexport const easeInQuint = baseEase.inQuint;\n\nexport const easeOutQuint = baseEase.outQuint;\n\n// 取值easeFn函数变量的某一段转成easing函数，a为开始变量值，b为结束变量值\nexport function createEase(a: number = 0, b: number = 1, easeFn: EaseFn = baseEase.linear): EaseFn {\n  const k = 1 / (b - a);\n  if (!k || k <= 0) {\n    return () => 0;\n  }\n  // easeFn先平移( -a , -easeFn(a) )，再缩放 k 倍\n  // 接着使函数值也在(0,1)之间，即：经上述变换之后的函数，另变量为1，求函数值，函数再除以该函数值得到最终的函数\n  return (t: number) =>\n    ((easeFn(t / k + a) - easeFn(a)) * k) / ((easeFn(1 / k + a) - easeFn(a)) * k);\n}\n\n// 把两个easing函数连接转成新的easing函数，k为比例\nexport function createEaseInOut(\n  k: number = 1 / 2,\n  easeIn: EaseFn = baseEase.linear,\n  easeOut: EaseFn = baseEase.linear,\n): EaseFn {\n  if (k <= 0) {\n    return easeOut;\n  }\n  if (k >= 1) {\n    return easeIn;\n  }\n  return (t: number) =>\n    t <= k\n      ? // easeIn直接缩放k\n        easeIn(t / k) * k\n      : // easeOut衔接easeIn，需要先平移( k/(1-k) , k/(1-k) )，再缩放 1-k\n        (easeOut(t / (1 - k) - k / (1 - k)) + k / (1 - k)) * (1 - k);\n}\n\nexport const easeInOutQuad = createEaseInOut(1 / 2, baseEase.outQuad, baseEase.inQuad);\n\nexport const easeOutInQuad = createEaseInOut(1 / 2, baseEase.inQuad, baseEase.outQuad);\n"],"names":["baseEase","t","easeLinear","easeInQuad","easeOutQuad","easeInCubic","easeOutCubic","easeInQuart","easeOutQuart","easeInQuint","easeOutQuint","createEase","a","b","easeFn","k","createEaseInOut","easeIn","easeOut","easeInOutQuad","easeOutInQuad"],"mappings":"AAgBA,MAAMA,EACKC,GAAMA,EADXD,EAEKC,GAAMA,EAAIA,EAFfD,EAGMC,GAAM,GAAK,EAAIA,IAAM,EAAIA,GASxBC,EAAaF,EAEbG,EAAaH,EAEbI,EAAcJ,EAEdK,EAdDJ,GAAMA,EAAIA,EAAIA,EAgBbK,EAfAL,GAAM,GAAK,EAAIA,IAAM,EAAIA,IAAM,EAAIA,GAiBnCM,EAhBDN,GAAMA,EAAIA,EAAIA,EAAIA,EAkBjBO,EAjBAP,GAAM,GAAK,EAAIA,IAAM,EAAIA,IAAM,EAAIA,IAAM,EAAIA,GAmB7CQ,EAlBDR,GAAMA,EAAIA,EAAIA,EAAIA,EAAIA,EAoBrBS,EAnBAT,GAAM,GAAK,EAAIA,IAAM,EAAIA,IAAM,EAAIA,IAAM,EAAIA,IAAM,EAAIA,GAsB7D,SAASU,EAAWC,EAAY,EAAGC,EAAY,EAAGC,EAAiBd,GACxE,MAAMe,EAAI,GAAKF,EAAID,GACnB,OAAKG,GAAKA,EAAK,EAKPd,IACJa,EAAOb,EAAIc,EAAIH,GAAKE,EAAOF,IAAMG,IAAOD,EAAO,EAAIC,EAAIH,GAAKE,EAAOF,IAAMG,GALpE,IAAM,CAMjB,CAGO,SAASC,EACdD,EAAY,GACZE,EAAiBjB,EACjBkB,EAAkBlB,GAElB,OAAIe,EAAK,EAGA,EAALA,EAGId,GACNA,EAAKc,GAIAG,EAAQjB,GAAK,EAAIc,GAAKA,GAAK,EAAIA,IAAMA,GAAK,EAAIA,KAAO,EAAIA,GAF1DE,EAAOhB,EAAIc,GAAKA,EALbE,EAHAC,CAWX,OAEaC,EAAgBH,EAAgB,GAAOhB,EAAkBA,GAEzDoB,EAAgBJ,EAAgB,GAAOhB,EAAiBA"}